                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.8.0 #5117 (Mar 23 2008) (MINGW32)
                              4 ; This file was generated Sun Jan 30 19:17:47 2011
                              5 ;--------------------------------------------------------
                              6 	.module uiplib
                              7 	.optsdcc -mmcs51 --model-large
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _uiplib_ipaddrconv
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 	.area RSEG    (DATA)
                             17 ;--------------------------------------------------------
                             18 ; special function bits
                             19 ;--------------------------------------------------------
                             20 	.area RSEG    (DATA)
                             21 ;--------------------------------------------------------
                             22 ; overlayable register banks
                             23 ;--------------------------------------------------------
                             24 	.area REG_BANK_0	(REL,OVR,DATA)
   0000                      25 	.ds 8
                             26 ;--------------------------------------------------------
                             27 ; internal ram data
                             28 ;--------------------------------------------------------
                             29 	.area DSEG    (DATA)
                             30 ;--------------------------------------------------------
                             31 ; overlayable items in internal ram 
                             32 ;--------------------------------------------------------
                             33 	.area OSEG    (OVR,DATA)
                             34 ;--------------------------------------------------------
                             35 ; indirectly addressable internal ram data
                             36 ;--------------------------------------------------------
                             37 	.area ISEG    (DATA)
                             38 ;--------------------------------------------------------
                             39 ; absolute internal ram data
                             40 ;--------------------------------------------------------
                             41 	.area IABS    (ABS,DATA)
                             42 	.area IABS    (ABS,DATA)
                             43 ;--------------------------------------------------------
                             44 ; bit data
                             45 ;--------------------------------------------------------
                             46 	.area BSEG    (BIT)
                             47 ;--------------------------------------------------------
                             48 ; paged external ram data
                             49 ;--------------------------------------------------------
                             50 	.area PSEG    (PAG,XDATA)
                             51 ;--------------------------------------------------------
                             52 ; external ram data
                             53 ;--------------------------------------------------------
                             54 	.area XSEG    (XDATA)
                             55 ;--------------------------------------------------------
                             56 ; absolute external ram data
                             57 ;--------------------------------------------------------
                             58 	.area XABS    (ABS,XDATA)
                             59 ;--------------------------------------------------------
                             60 ; external initialized ram data
                             61 ;--------------------------------------------------------
                             62 	.area XISEG   (XDATA)
                             63 	.area HOME    (CODE)
                             64 	.area GSINIT0 (CODE)
                             65 	.area GSINIT1 (CODE)
                             66 	.area GSINIT2 (CODE)
                             67 	.area GSINIT3 (CODE)
                             68 	.area GSINIT4 (CODE)
                             69 	.area GSINIT5 (CODE)
                             70 	.area GSINIT  (CODE)
                             71 	.area GSFINAL (CODE)
                             72 	.area CSEG    (CODE)
                             73 ;--------------------------------------------------------
                             74 ; global & static initialisations
                             75 ;--------------------------------------------------------
                             76 	.area HOME    (CODE)
                             77 	.area GSINIT  (CODE)
                             78 	.area GSFINAL (CODE)
                             79 	.area GSINIT  (CODE)
                             80 ;--------------------------------------------------------
                             81 ; Home
                             82 ;--------------------------------------------------------
                             83 	.area HOME    (CODE)
                             84 	.area HOME    (CODE)
                             85 ;--------------------------------------------------------
                             86 ; code
                             87 ;--------------------------------------------------------
                             88 	.area UIP_BANK(CODE)
                             89 ;------------------------------------------------------------
                             90 ;Allocation info for local variables in function 'uiplib_ipaddrconv'
                             91 ;------------------------------------------------------------
                             92 ;ipaddr                    Allocated to stack - offset -5
                             93 ;addrstr                   Allocated to stack - offset 1
                             94 ;tmp                       Allocated to registers r5 
                             95 ;c                         Allocated to registers r6 
                             96 ;i                         Allocated to stack - offset 4
                             97 ;j                         Allocated to registers r4 
                             98 ;sloc0                     Allocated to stack - offset 5
                             99 ;------------------------------------------------------------
                    0000    100 	G$uiplib_ipaddrconv$0$0 ==.
                    0000    101 	C$uiplib.c$46$0$0 ==.
                            102 ;	..\uip\uiplib.c:46: uiplib_ipaddrconv(char *addrstr, unsigned char *ipaddr) __reentrant banked
                            103 ;	-----------------------------------------
                            104 ;	 function uiplib_ipaddrconv
                            105 ;	-----------------------------------------
   0000                     106 _uiplib_ipaddrconv:
                    0002    107 	ar2 = 0x02
                    0003    108 	ar3 = 0x03
                    0004    109 	ar4 = 0x04
                    0005    110 	ar5 = 0x05
                    0006    111 	ar6 = 0x06
                    0007    112 	ar7 = 0x07
                    0000    113 	ar0 = 0x00
                    0001    114 	ar1 = 0x01
   0000 C0*00               115 	push	_bp
   0002 85 81*00            116 	mov	_bp,sp
   0005 C0 82               117 	push	dpl
   0007 C0 83               118 	push	dph
   0009 C0 F0               119 	push	b
   000B E5 81               120 	mov	a,sp
   000D 24 07               121 	add	a,#0x07
   000F F5 81               122 	mov	sp,a
                    0011    123 	C$uiplib.c$52$1$1 ==.
                            124 ;	..\uip\uiplib.c:52: tmp = 0;
   0011 7D 00               125 	mov	r5,#0x00
                    0013    126 	C$uiplib.c$54$1$1 ==.
                            127 ;	..\uip\uiplib.c:54: for(i = 0; i < 4; ++i) {
   0013 E5*00               128 	mov	a,_bp
   0015 24 04               129 	add	a,#0x04
   0017 F8                  130 	mov	r0,a
   0018 76 00               131 	mov	@r0,#0x00
   001A                     132 00115$:
   001A E5*00               133 	mov	a,_bp
   001C 24 04               134 	add	a,#0x04
   001E F8                  135 	mov	r0,a
   001F B6 04 00            136 	cjne	@r0,#0x04,00129$
   0022                     137 00129$:
   0022 40 03               138 	jc	00130$
   0024 02s00rE7            139 	ljmp	00118$
   0027                     140 00130$:
                    0027    141 	C$uiplib.c$56$1$1 ==.
                            142 ;	..\uip\uiplib.c:56: do {
   0027 E5*00               143 	mov	a,_bp
   0029 24 FB               144 	add	a,#0xfb
   002B F8                  145 	mov	r0,a
   002C 86 07               146 	mov	ar7,@r0
   002E 08                  147 	inc	r0
   002F 86 02               148 	mov	ar2,@r0
   0031 08                  149 	inc	r0
   0032 86 03               150 	mov	ar3,@r0
   0034 A8*00               151 	mov	r0,_bp
   0036 08                  152 	inc	r0
   0037 E5*00               153 	mov	a,_bp
   0039 24 05               154 	add	a,#0x05
   003B F9                  155 	mov	r1,a
   003C E6                  156 	mov	a,@r0
   003D F7                  157 	mov	@r1,a
   003E 08                  158 	inc	r0
   003F 09                  159 	inc	r1
   0040 E6                  160 	mov	a,@r0
   0041 F7                  161 	mov	@r1,a
   0042 08                  162 	inc	r0
   0043 09                  163 	inc	r1
   0044 E6                  164 	mov	a,@r0
   0045 F7                  165 	mov	@r1,a
   0046 7C 00               166 	mov	r4,#0x00
   0048                     167 00112$:
                    0048    168 	C$uiplib.c$57$3$3 ==.
                            169 ;	..\uip\uiplib.c:57: c = *addrstr;
   0048 E5*00               170 	mov	a,_bp
   004A 24 05               171 	add	a,#0x05
   004C F8                  172 	mov	r0,a
   004D 86 82               173 	mov	dpl,@r0
   004F 08                  174 	inc	r0
   0050 86 83               175 	mov	dph,@r0
   0052 08                  176 	inc	r0
   0053 86 F0               177 	mov	b,@r0
   0055 12s00r00            178 	lcall	__gptrget
   0058 FE                  179 	mov	r6,a
                    0059    180 	C$uiplib.c$58$3$3 ==.
                            181 ;	..\uip\uiplib.c:58: ++j;
   0059 0C                  182 	inc	r4
                    005A    183 	C$uiplib.c$59$3$3 ==.
                            184 ;	..\uip\uiplib.c:59: if(j > 4) {
   005A EC                  185 	mov	a,r4
   005B 24 FB               186 	add	a,#0xff - 0x04
   005D 50 06               187 	jnc	00102$
                    005F    188 	C$uiplib.c$60$4$4 ==.
                            189 ;	..\uip\uiplib.c:60: return 0;
   005F 75 82 00            190 	mov	dpl,#0x00
   0062 02s00rEA            191 	ljmp	00119$
   0065                     192 00102$:
                    0065    193 	C$uiplib.c$62$3$3 ==.
                            194 ;	..\uip\uiplib.c:62: if(c == '.' || c == 0) {
   0065 BE 2E 02            195 	cjne	r6,#0x2E,00132$
   0068 80 03               196 	sjmp	00107$
   006A                     197 00132$:
   006A EE                  198 	mov	a,r6
   006B 70 20               199 	jnz	00108$
   006D                     200 00107$:
                    006D    201 	C$uiplib.c$63$4$5 ==.
                            202 ;	..\uip\uiplib.c:63: *ipaddr = tmp;
   006D 8F 82               203 	mov	dpl,r7
   006F 8A 83               204 	mov	dph,r2
   0071 8B F0               205 	mov	b,r3
   0073 ED                  206 	mov	a,r5
   0074 12s00r00            207 	lcall	__gptrput
   0077 A3                  208 	inc	dptr
   0078 AF 82               209 	mov	r7,dpl
   007A AA 83               210 	mov	r2,dph
                    007C    211 	C$uiplib.c$64$4$5 ==.
                            212 ;	..\uip\uiplib.c:64: ++ipaddr;
   007C E5*00               213 	mov	a,_bp
   007E 24 FB               214 	add	a,#0xfb
   0080 F8                  215 	mov	r0,a
   0081 A6 07               216 	mov	@r0,ar7
   0083 08                  217 	inc	r0
   0084 A6 02               218 	mov	@r0,ar2
   0086 08                  219 	inc	r0
   0087 A6 03               220 	mov	@r0,ar3
                    0089    221 	C$uiplib.c$65$4$5 ==.
                            222 ;	..\uip\uiplib.c:65: tmp = 0;
   0089 7D 00               223 	mov	r5,#0x00
   008B 80 29               224 	sjmp	00109$
   008D                     225 00108$:
                    008D    226 	C$uiplib.c$66$3$3 ==.
                            227 ;	..\uip\uiplib.c:66: } else if(c >= '0' && c <= '9') {
   008D C3                  228 	clr	c
   008E EE                  229 	mov	a,r6
   008F 64 80               230 	xrl	a,#0x80
   0091 94 B0               231 	subb	a,#0xb0
   0093 40 1C               232 	jc	00104$
   0095 74 B9               233 	mov	a,#(0x39 ^ 0x80)
   0097 8E F0               234 	mov	b,r6
   0099 63 F0 80            235 	xrl	b,#0x80
   009C 95 F0               236 	subb	a,b
   009E 40 11               237 	jc	00104$
                    00A0    238 	C$uiplib.c$67$1$1 ==.
                            239 ;	..\uip\uiplib.c:67: tmp = (tmp * 10) + (c - '0');
   00A0 C0 04               240 	push	ar4
   00A2 ED                  241 	mov	a,r5
   00A3 75 F0 0A            242 	mov	b,#0x0A
   00A6 A4                  243 	mul	ab
   00A7 FC                  244 	mov	r4,a
   00A8 EE                  245 	mov	a,r6
   00A9 24 D0               246 	add	a,#0xd0
   00AB 2C                  247 	add	a,r4
   00AC FD                  248 	mov	r5,a
   00AD D0 04               249 	pop	ar4
   00AF 80 05               250 	sjmp	00109$
   00B1                     251 00104$:
                    00B1    252 	C$uiplib.c$69$4$7 ==.
                            253 ;	..\uip\uiplib.c:69: return 0;
   00B1 75 82 00            254 	mov	dpl,#0x00
   00B4 80 34               255 	sjmp	00119$
   00B6                     256 00109$:
                    00B6    257 	C$uiplib.c$71$3$3 ==.
                            258 ;	..\uip\uiplib.c:71: ++addrstr;
   00B6 E5*00               259 	mov	a,_bp
   00B8 24 05               260 	add	a,#0x05
   00BA F8                  261 	mov	r0,a
   00BB 06                  262 	inc	@r0
   00BC B6 00 02            263 	cjne	@r0,#0x00,00136$
   00BF 08                  264 	inc	r0
   00C0 06                  265 	inc	@r0
   00C1                     266 00136$:
   00C1 E5*00               267 	mov	a,_bp
   00C3 24 05               268 	add	a,#0x05
   00C5 F8                  269 	mov	r0,a
   00C6 A9*00               270 	mov	r1,_bp
   00C8 09                  271 	inc	r1
   00C9 E6                  272 	mov	a,@r0
   00CA F7                  273 	mov	@r1,a
   00CB 08                  274 	inc	r0
   00CC 09                  275 	inc	r1
   00CD E6                  276 	mov	a,@r0
   00CE F7                  277 	mov	@r1,a
   00CF 08                  278 	inc	r0
   00D0 09                  279 	inc	r1
   00D1 E6                  280 	mov	a,@r0
   00D2 F7                  281 	mov	@r1,a
                    00D3    282 	C$uiplib.c$72$2$2 ==.
                            283 ;	..\uip\uiplib.c:72: } while(c != '.' && c != 0);
   00D3 BE 2E 02            284 	cjne	r6,#0x2E,00137$
   00D6 80 06               285 	sjmp	00117$
   00D8                     286 00137$:
   00D8 EE                  287 	mov	a,r6
   00D9 60 03               288 	jz	00138$
   00DB 02s00r48            289 	ljmp	00112$
   00DE                     290 00138$:
   00DE                     291 00117$:
                    00DE    292 	C$uiplib.c$54$1$1 ==.
                            293 ;	..\uip\uiplib.c:54: for(i = 0; i < 4; ++i) {
   00DE E5*00               294 	mov	a,_bp
   00E0 24 04               295 	add	a,#0x04
   00E2 F8                  296 	mov	r0,a
   00E3 06                  297 	inc	@r0
   00E4 02s00r1A            298 	ljmp	00115$
   00E7                     299 00118$:
                    00E7    300 	C$uiplib.c$74$1$1 ==.
                            301 ;	..\uip\uiplib.c:74: return 1;
   00E7 75 82 01            302 	mov	dpl,#0x01
   00EA                     303 00119$:
   00EA 85*00 81            304 	mov	sp,_bp
   00ED D0*00               305 	pop	_bp
                    00EF    306 	C$uiplib.c$75$1$1 ==.
                    00EF    307 	XG$uiplib_ipaddrconv$0$0 ==.
   00EF 02s00r00            308 	ljmp	__sdcc_banked_ret
                            309 	.area CSEG    (CODE)
                            310 	.area CONST   (CODE)
                            311 	.area XINIT   (CODE)
                            312 	.area CABS    (ABS,CODE)
